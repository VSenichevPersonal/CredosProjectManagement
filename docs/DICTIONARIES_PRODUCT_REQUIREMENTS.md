# üìö –°–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ —Å–∏—Å—Ç–µ–º—ã - Product Requirements

## üéØ Vision

–°–æ–∑–¥–∞—Ç—å –≥–∏–±–∫—É—é —Å–∏—Å—Ç–µ–º—É —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤ –¥–ª—è —É—á—ë—Ç–∞ –≤—Ä–µ–º–µ–Ω–∏, –≤–¥–æ—Ö–Ω–æ–≤–ª—ë–Ω–Ω—É—é –ª—É—á—à–∏–º–∏ –ø—Ä–∞–∫—Ç–∏–∫–∞–º–∏ Timetta, Kimai, Toggl –∏ Harvest.

---

## üìä –ê–Ω–∞–ª–∏–∑ —Å—É—â–µ—Å—Ç–≤—É—é—â–∏—Ö —Å–∏—Å—Ç–µ–º

### Kimai (Open Source)
**–û—Å–Ω–æ–≤–Ω—ã–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏**:
- Customers (–ö–ª–∏–µ–Ω—Ç—ã)
- Projects (–ü—Ä–æ–µ–∫—Ç—ã)
- Activities (–í–∏–¥—ã –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
- Tags (–¢–µ–≥–∏)
- Teams (–ö–æ–º–∞–Ω–¥—ã)
- Custom Fields (–ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è)

### Timetta (Russian Market Leader)
**–û—Å–Ω–æ–≤–Ω—ã–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏**:
- –ö–ª–∏–µ–Ω—Ç—ã
- –ü—Ä–æ–µ–∫—Ç—ã
- –í–∏–¥—ã —Ä–∞–±–æ—Ç
- –°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏
- –û—Ç–¥–µ–ª—ã
- –†–æ–ª–∏
- –¢–∞—Ä–∏—Ñ—ã

### Best Practices
**Must Have** –¥–ª—è –ø—Ä–æ—Ñ–µ—Å—Å–∏–æ–Ω–∞–ª—å–Ω–æ–≥–æ timesheet:
1. ‚úÖ –ò–µ—Ä–∞—Ä—Ö–∏—è: –ö–ª–∏–µ–Ω—Ç ‚Üí –ü—Ä–æ–µ–∫—Ç ‚Üí –ó–∞–¥–∞—á–∞/Activity
2. ‚úÖ –ì–∏–±–∫–∞—è —Ç–∞—Ä–∏—Ñ–∏–∫–∞—Ü–∏—è (–ø–æ –ø—Ä–æ–µ–∫—Ç—É, –ø–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫—É, –ø–æ –≤–∏–¥—É —Ä–∞–±–æ—Ç)
3. ‚úÖ –¢–µ–≥–∏ –¥–ª—è –∞–Ω–∞–ª–∏—Ç–∏–∫–∏
4. ‚úÖ –ö–∞–ª–µ–Ω–¥–∞—Ä–∏ (—Ä–∞–±–æ—á–∏–µ –¥–Ω–∏, –ø—Ä–∞–∑–¥–Ω–∏–∫–∏)
5. ‚úÖ –®–∞–±–ª–æ–Ω—ã –¥–ª—è –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–¥–∞—á

---

## üìã –¢–µ–∫—É—â–µ–µ —Å–æ—Å—Ç–æ—è–Ω–∏–µ (–ß—Ç–æ –µ—Å—Ç—å)

### ‚úÖ –†–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

1. **Directions** (–ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è) - `/admin/dictionaries/directions`
   - –û—Å–Ω–æ–≤–Ω—ã–µ –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è –∫–æ–º–ø–∞–Ω–∏–∏
   - –ë—é–¥–∂–µ—Ç –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è
   - –ú–µ–Ω–µ–¥–∂–µ—Ä –Ω–∞–ø—Ä–∞–≤–ª–µ–Ω–∏—è

2. **Employees** (–°–æ—Ç—Ä—É–¥–Ω–∏–∫–∏) - `/admin/dictionaries/employees`
   - –§–ò–û, email, –¥–æ–ª–∂–Ω–æ—Å—Ç—å
   - –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
   - –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞

3. **Projects** (–ü—Ä–æ–µ–∫—Ç—ã) - `/admin/dictionaries/projects`
   - –ù–∞–∑–≤–∞–Ω–∏–µ, –æ–ø–∏—Å–∞–Ω–∏–µ
   - –ù–∞–ø—Ä–∞–≤–ª–µ–Ω–∏–µ
   - –ú–µ–Ω–µ–¥–∂–µ—Ä –ø—Ä–æ–µ–∫—Ç–∞
   - –ë—é–¥–∂–µ—Ç

4. **User Roles** (–†–æ–ª–∏) - `/admin/users`
   - admin, manager, employee, viewer
   - –ù–∞–∑–Ω–∞—á–µ–Ω–∏–µ/–æ—Ç–∑—ã–≤ —Ä–æ–ª–µ–π

5. **Permissions Matrix** (–ú–∞—Ç—Ä–∏—Ü–∞ –ø—Ä–∞–≤) - `/admin/permissions`
   - –í–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏—è –ø—Ä–∞–≤ –ø–æ —Ä–æ–ª—è–º

### ‚ö†Ô∏è –ß–∞—Å—Ç–∏—á–Ω–æ —Ä–µ–∞–ª–∏–∑–æ–≤–∞–Ω–æ

6. **Tasks** (–ó–∞–¥–∞—á–∏)
   - –ï—Å—Ç—å –≤ –ë–î (table `tasks`)
   - –ï—Å—Ç—å API (`/api/tasks`)
   - ‚ùå –ù–ï–¢ UI –≤ –∞–¥–º–∏–Ω–∫–µ

### ‚ùå –û—Ç—Å—É—Ç—Å—Ç–≤—É–µ—Ç

7. **Customers** (–ö–ª–∏–µ–Ω—Ç—ã)
8. **Activities** (–í–∏–¥—ã –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏)
9. **Tags** (–¢–µ–≥–∏)
10. **Work Types** (–¢–∏–ø—ã —Ä–∞–±–æ—Ç)
11. **Rates** (–¢–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã)
12. **Calendars** (–ö–∞–ª–µ–Ω–¥–∞—Ä–∏)
13. **Holidays** (–ü—Ä–∞–∑–¥–Ω–∏–∫–∏)
14. **Templates** (–®–∞–±–ª–æ–Ω—ã)

---

## üéØ Priority Matrix

### P0 (Must Have) - –ù–µ–¥–µ–ª—è 1

#### 1. **Customers** (–ö–ª–∏–µ–Ω—Ç—ã) üî•
**–ó–∞—á–µ–º**: –ö—Ç–æ –∑–∞–∫–∞–∑—á–∏–∫ –ø—Ä–æ–µ–∫—Ç–∞? –ö—Ä–∏—Ç–∏—á–Ω–æ –¥–ª—è B2B –∫–æ–º–ø–∞–Ω–∏–π.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```sql
CREATE TABLE customers (
  id UUID PRIMARY KEY,
  name VARCHAR(200) NOT NULL,
  legal_name VARCHAR(300), -- –û–û–û "–†–æ–≥–∞ –∏ –∫–æ–ø—ã—Ç–∞"
  inn VARCHAR(12), -- –ò–ù–ù –¥–ª—è –†–§
  contact_person VARCHAR(200),
  email VARCHAR(255),
  phone VARCHAR(50),
  address TEXT,
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

**–°–≤—è–∑—å —Å –ø—Ä–æ–µ–∫—Ç–∞–º–∏**:
```sql
ALTER TABLE projects ADD COLUMN customer_id UUID REFERENCES customers(id);
```

**UI**: CRUD –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ `/admin/dictionaries/customers`

---

#### 2. **Activities** (–í–∏–¥—ã –¥–µ—è—Ç–µ–ª—å–Ω–æ—Å—Ç–∏) üî•
**–ó–∞—á–µ–º**: –ß—Ç–æ –∏–º–µ–Ω–Ω–æ –¥–µ–ª–∞–ª —Å–æ—Ç—Ä—É–¥–Ω–∏–∫? (–†–∞–∑—Ä–∞–±–æ—Ç–∫–∞, –î–∏–∑–∞–π–Ω, –í—Å—Ç—Ä–µ—á–∞, –î–æ–∫—É–º–µ–Ω—Ç–∏—Ä–æ–≤–∞–Ω–∏–µ)

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```sql
CREATE TABLE activities (
  id UUID PRIMARY KEY,
  name VARCHAR(200) NOT NULL,
  description TEXT,
  color VARCHAR(20), -- –î–ª—è –≤–∏–∑—É–∞–ª–∏–∑–∞—Ü–∏–∏
  default_hourly_rate DECIMAL(10,2), -- –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ –¥–ª—è —ç—Ç–æ–≥–æ –≤–∏–¥–∞ —Ä–∞–±–æ—Ç
  is_billable BOOLEAN DEFAULT true, -- –û–ø–ª–∞—á–∏–≤–∞–µ–º—ã–π –ª–∏
  is_active BOOLEAN DEFAULT true,
  created_at TIMESTAMP DEFAULT NOW(),
  updated_at TIMESTAMP DEFAULT NOW()
);
```

**–ü—Ä–∏–º–µ—Ä—ã**:
- –†–∞–∑—Ä–∞–±–æ—Ç–∫–∞ (billable, 3000‚ÇΩ/—á–∞—Å)
- –ö–æ–¥-—Ä–µ–≤—å—é (billable, 2500‚ÇΩ/—á–∞—Å)
- –í—Å—Ç—Ä–µ—á–∏ (billable, 2000‚ÇΩ/—á–∞—Å)
- –û–±—É—á–µ–Ω–∏–µ (non-billable, 0‚ÇΩ/—á–∞—Å)
- –ê–¥–º–∏–Ω –∑–∞–¥–∞—á–∏ (non-billable, 0‚ÇΩ/—á–∞—Å)

**–°–≤—è–∑—å —Å time_entries**:
```sql
ALTER TABLE time_entries ADD COLUMN activity_id UUID REFERENCES activities(id);
```

**UI**: CRUD –∏–Ω—Ç–µ—Ä—Ñ–µ–π—Å –≤ `/admin/dictionaries/activities`

---

### P1 (Should Have) - –ù–µ–¥–µ–ª—è 2

#### 3. **Tags** (–¢–µ–≥–∏) üè∑Ô∏è
**–ó–∞—á–µ–º**: –ì–∏–±–∫–∞—è –∫–∞—Ç–µ–≥–æ—Ä–∏–∑–∞—Ü–∏—è –∏ –∞–Ω–∞–ª–∏—Ç–∏–∫–∞.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```sql
CREATE TABLE tags (
  id UUID PRIMARY KEY,
  name VARCHAR(100) NOT NULL UNIQUE,
  color VARCHAR(20),
  description TEXT,
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE time_entry_tags (
  time_entry_id UUID REFERENCES time_entries(id) ON DELETE CASCADE,
  tag_id UUID REFERENCES tags(id) ON DELETE CASCADE,
  PRIMARY KEY (time_entry_id, tag_id)
);
```

**–ü—Ä–∏–º–µ—Ä—ã —Ç–µ–≥–æ–≤**:
- `urgent` (—Å—Ä–æ—á–Ω–æ)
- `research` (–∏—Å—Å–ª–µ–¥–æ–≤–∞–Ω–∏–µ)
- `bugfix` (–∏—Å–ø—Ä–∞–≤–ª–µ–Ω–∏–µ –±–∞–≥–æ–≤)
- `feature` (–Ω–æ–≤–∞—è —Ñ–∏—á–∞)
- `refactoring` (—Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏–Ω–≥)

**UI**: 
- CRUD –≤ `/admin/dictionaries/tags`
- Multi-select –ø—Ä–∏ —Å–æ–∑–¥–∞–Ω–∏–∏ time entry

---

#### 4. **Project Rate Plans** (–¢–∞—Ä–∏—Ñ–Ω—ã–µ –ø–ª–∞–Ω—ã –ø—Ä–æ–µ–∫—Ç–æ–≤) üí∞
**–ó–∞—á–µ–º**: –†–∞–∑–Ω—ã–µ —Å—Ç–∞–≤–∫–∏ –¥–ª—è —Ä–∞–∑–Ω—ã—Ö –ø—Ä–æ–µ–∫—Ç–æ–≤/–∫–ª–∏–µ–Ω—Ç–æ–≤.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```sql
CREATE TABLE project_rates (
  id UUID PRIMARY KEY,
  project_id UUID REFERENCES projects(id) ON DELETE CASCADE,
  activity_id UUID REFERENCES activities(id), -- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Å—Ç–∞–≤–∫–∞ –∑–∞ –∫–æ–Ω–∫—Ä–µ—Ç–Ω—ã–π –≤–∏–¥ —Ä–∞–±–æ—Ç
  employee_id UUID REFERENCES employees(id), -- –û–ø—Ü–∏–æ–Ω–∞–ª—å–Ω–æ: —Å—Ç–∞–≤–∫–∞ –¥–ª—è –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞
  hourly_rate DECIMAL(10,2) NOT NULL,
  valid_from DATE DEFAULT CURRENT_DATE,
  valid_to DATE,
  created_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(project_id, activity_id, employee_id, valid_from)
);
```

**–õ–æ–≥–∏–∫–∞**:
1. –°–ø–µ—Ü–∏—Ñ–∏—á–Ω–∞—è —Å—Ç–∞–≤–∫–∞ (–ø—Ä–æ–µ–∫—Ç + activity + employee) - –Ω–∞–∏–≤—ã—Å—à–∏–π –ø—Ä–∏–æ—Ä–∏—Ç–µ—Ç
2. –°—Ç–∞–≤–∫–∞ –∑–∞ activity –Ω–∞ –ø—Ä–æ–µ–∫—Ç–µ (–ø—Ä–æ–µ–∫—Ç + activity)
3. –°—Ç–∞–≤–∫–∞ —Å–æ—Ç—Ä—É–¥–Ω–∏–∫–∞ –Ω–∞ –ø—Ä–æ–µ–∫—Ç–µ (–ø—Ä–æ–µ–∫—Ç + employee)
4. –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ activity
5. –ë–∞–∑–æ–≤–∞—è —Å—Ç–∞–≤–∫–∞ employee

**UI**: –í–∫–ª–∞–¥–∫–∞ "–¢–∞—Ä–∏—Ñ—ã" –≤ –ø—Ä–æ–µ–∫—Ç–µ

---

#### 5. **Work Calendars** (–†–∞–±–æ—á–∏–µ –∫–∞–ª–µ–Ω–¥–∞—Ä–∏) üìÖ
**–ó–∞—á–µ–º**: –£—á—ë—Ç —Ä–∞–±–æ—á–∏—Ö/–Ω–µ—Ä–∞–±–æ—á–∏—Ö –¥–Ω–µ–π, —Ä–∞—Å—á—ë—Ç capacity.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```sql
CREATE TABLE work_calendars (
  id UUID PRIMARY KEY,
  name VARCHAR(200) NOT NULL,
  country VARCHAR(2) DEFAULT 'RU',
  is_default BOOLEAN DEFAULT false,
  created_at TIMESTAMP DEFAULT NOW()
);

CREATE TABLE holidays (
  id UUID PRIMARY KEY,
  calendar_id UUID REFERENCES work_calendars(id) ON DELETE CASCADE,
  date DATE NOT NULL,
  name VARCHAR(200) NOT NULL,
  is_working_day BOOLEAN DEFAULT false, -- –†–∞–±–æ—á–∏–π –¥–µ–Ω—å (–∫–∞–∫ –≤ –†–§ –ø–µ—Ä–µ–Ω–µ—Å—ë–Ω–Ω—ã–µ –¥–Ω–∏)
  created_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(calendar_id, date)
);

CREATE TABLE work_schedules (
  id UUID PRIMARY KEY,
  employee_id UUID REFERENCES employees(id) ON DELETE CASCADE,
  calendar_id UUID REFERENCES work_calendars(id),
  hours_per_week DECIMAL(5,2) DEFAULT 40,
  monday_hours DECIMAL(4,2) DEFAULT 8,
  tuesday_hours DECIMAL(4,2) DEFAULT 8,
  wednesday_hours DECIMAL(4,2) DEFAULT 8,
  thursday_hours DECIMAL(4,2) DEFAULT 8,
  friday_hours DECIMAL(4,2) DEFAULT 8,
  saturday_hours DECIMAL(4,2) DEFAULT 0,
  sunday_hours DECIMAL(4,2) DEFAULT 0,
  valid_from DATE DEFAULT CURRENT_DATE,
  created_at TIMESTAMP DEFAULT NOW()
);
```

**–ü—Ä–µ–¥–Ω–∞—Å—Ç—Ä–æ–µ–Ω–Ω—ã–µ –∫–∞–ª–µ–Ω–¥–∞—Ä–∏**:
- –†–æ—Å—Å–∏—è (–†–§)
- –ö–∞–∑–∞—Ö—Å—Ç–∞–Ω (KZ)
- –ë–µ–ª–∞—Ä—É—Å—å (BY)
- –ö–∞—Å—Ç–æ–º–Ω—ã–µ

**UI**: 
- `/admin/dictionaries/calendars` - —Å–ø–∏—Å–æ–∫ –∫–∞–ª–µ–Ω–¥–∞—Ä–µ–π
- `/admin/dictionaries/calendars/[id]` - –ø—Ä–∞–∑–¥–Ω–∏–∫–∏ –∫–æ–Ω–∫—Ä–µ—Ç–Ω–æ–≥–æ –∫–∞–ª–µ–Ω–¥–∞—Ä—è

---

### P2 (Nice to Have) - –ù–µ–¥–µ–ª—è 3

#### 6. **Task Templates** (–®–∞–±–ª–æ–Ω—ã –∑–∞–¥–∞—á) üìù
**–ó–∞—á–µ–º**: –ë—ã—Å—Ç—Ä–æ–µ —Å–æ–∑–¥–∞–Ω–∏–µ –ø–æ–≤—Ç–æ—Ä—è—é—â–∏—Ö—Å—è –∑–∞–¥–∞—á.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```sql
CREATE TABLE task_templates (
  id UUID PRIMARY KEY,
  name VARCHAR(200) NOT NULL,
  description TEXT,
  activity_id UUID REFERENCES activities(id),
  estimated_hours DECIMAL(6,2),
  tags JSONB, -- –ú–∞—Å—Å–∏–≤ —Ç–µ–≥–æ–≤
  created_by UUID REFERENCES employees(id),
  created_at TIMESTAMP DEFAULT NOW()
);
```

**Use case**: 
- "–ï–∂–µ–Ω–µ–¥–µ–ª—å–Ω—ã–π –æ—Ç—á—ë—Ç" (2 —á–∞—Å–∞, —Ç–µ–≥: reporting)
- "Code review" (1 —á–∞—Å, —Ç–µ–≥: review)
- "Standup meeting" (0.5 —á–∞—Å–∞, —Ç–µ–≥: meeting)

---

#### 7. **Custom Fields** (–ö–∞—Å—Ç–æ–º–Ω—ã–µ –ø–æ–ª—è) üîß
**–ó–∞—á–µ–º**: –ì–∏–±–∫–æ—Å—Ç—å –ø–æ–¥ —Å–ø–µ—Ü–∏—Ñ–∏–∫—É –∫–æ–º–ø–∞–Ω–∏–∏.

**–°—Ç—Ä—É–∫—Ç—É—Ä–∞**:
```sql
CREATE TABLE custom_fields (
  id UUID PRIMARY KEY,
  entity_type VARCHAR(50) NOT NULL, -- 'project', 'customer', 'time_entry'
  field_name VARCHAR(100) NOT NULL,
  field_type VARCHAR(20) NOT NULL, -- 'text', 'number', 'date', 'select'
  field_options JSONB, -- –î–ª—è select: ['option1', 'option2']
  is_required BOOLEAN DEFAULT false,
  created_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(entity_type, field_name)
);

CREATE TABLE custom_field_values (
  id UUID PRIMARY KEY,
  custom_field_id UUID REFERENCES custom_fields(id) ON DELETE CASCADE,
  entity_id UUID NOT NULL,
  value TEXT,
  created_at TIMESTAMP DEFAULT NOW(),
  UNIQUE(custom_field_id, entity_id)
);
```

---

## üèóÔ∏è –ê—Ä—Ö–∏—Ç–µ–∫—Ç—É—Ä–∞ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤

### –ï–¥–∏–Ω—ã–π –ø–∞—Ç—Ç–µ—Ä–Ω –¥–ª—è –≤—Å–µ—Ö —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤

```typescript
// Generic Dictionary Interface
interface Dictionary {
  id: string;
  name: string;
  description?: string;
  isActive: boolean;
  createdAt: string;
  updatedAt: string;
}

// Generic CRUD Operations
interface DictionaryService<T extends Dictionary> {
  getAll(ctx: ExecutionContext, filters?: DictionaryFilters): Promise<T[]>;
  getById(ctx: ExecutionContext, id: string): Promise<T | null>;
  create(ctx: ExecutionContext, data: CreateDTO<T>): Promise<T>;
  update(ctx: ExecutionContext, id: string, data: UpdateDTO<T>): Promise<T>;
  delete(ctx: ExecutionContext, id: string): Promise<void>;
}
```

### UI Component Pattern

```typescript
// Generic Dictionary Management Component
<DictionaryManagementPanel<Customer>
  title="–ö–ª–∏–µ–Ω—Ç—ã"
  apiEndpoint="/api/dictionaries/customers"
  columns={[
    { key: 'name', label: '–ù–∞–∑–≤–∞–Ω–∏–µ' },
    { key: 'inn', label: '–ò–ù–ù' },
    { key: 'contactPerson', label: '–ö–æ–Ω—Ç–∞–∫—Ç' }
  ]}
  formFields={[
    { name: 'name', type: 'text', required: true },
    { name: 'inn', type: 'text', required: false },
    { name: 'contactPerson', type: 'text', required: false }
  ]}
/>
```

---

## üìä Roadmap

### –ù–µ–¥–µ–ª—è 1 (P0)
- [x] –ü—Ä–æ–≤–µ—Ä–∏—Ç—å —Å—É—â–µ—Å—Ç–≤—É—é—â–∏–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
- [ ] –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è Customers
- [ ] –°–æ–∑–¥–∞—Ç—å –º–∏–≥—Ä–∞—Ü–∏–∏ –¥–ª—è Activities
- [ ] API endpoints –¥–ª—è Customers
- [ ] API endpoints –¥–ª—è Activities
- [ ] UI –¥–ª—è Customers
- [ ] UI –¥–ª—è Activities
- [ ] –û–±–Ω–æ–≤–∏—Ç—å time_entries –¥–ª—è —Å–≤—è–∑–∏ —Å activity_id
- [ ] –û–±–Ω–æ–≤–∏—Ç—å projects –¥–ª—è —Å–≤—è–∑–∏ —Å customer_id

### –ù–µ–¥–µ–ª—è 2 (P1)
- [ ] Tags (–º–∏–≥—Ä–∞—Ü–∏–∏, API, UI)
- [ ] Project Rates (–º–∏–≥—Ä–∞—Ü–∏–∏, API, UI)
- [ ] Work Calendars (–º–∏–≥—Ä–∞—Ü–∏–∏, API, UI)
- [ ] –ò–Ω—Ç–µ–≥—Ä–∞—Ü–∏—è —Ç–µ–≥–æ–≤ –≤ time entries UI

### –ù–µ–¥–µ–ª—è 3 (P2)
- [ ] Task Templates
- [ ] Custom Fields
- [ ] Import/Export —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤

---

## üé® UI/UX Requirements

### –û–±—â–∏–µ —Ç—Ä–µ–±–æ–≤–∞–Ω–∏—è –¥–ª—è –≤—Å–µ—Ö —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤

1. **–ü–æ–∏—Å–∫**:
   - Real-time search –ø–æ –≤—Å–µ–º —Ç–µ–∫—Å—Ç–æ–≤—ã–º –ø–æ–ª—è–º
   - –§–∏–ª—å—Ç—Ä—ã (–∞–∫—Ç–∏–≤–Ω—ã–µ/–Ω–µ–∞–∫—Ç–∏–≤–Ω—ã–µ, –ø–æ –∫–∞—Ç–µ–≥–æ—Ä–∏—è–º)

2. **CRUD Operations**:
   - –°–æ–∑–¥–∞—Ç—å (–º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ)
   - –†–µ–¥–∞–∫—Ç–∏—Ä–æ–≤–∞—Ç—å (–º–æ–¥–∞–ª—å–Ω–æ–µ –æ–∫–Ω–æ)
   - –£–¥–∞–ª–∏—Ç—å (—Å –ø–æ–¥—Ç–≤–µ—Ä–∂–¥–µ–Ω–∏–µ–º)
   - Bulk operations (–º–∞—Å—Å–æ–≤–∞—è –∞–∫—Ç–∏–≤–∞—Ü–∏—è/–¥–µ–∞–∫—Ç–∏–≤–∞—Ü–∏—è)

3. **–í–∞–ª–∏–¥–∞—Ü–∏—è**:
   - Client-side (Zod schemas)
   - Server-side (–¥–≤–æ–π–Ω–∞—è –ø—Ä–æ–≤–µ—Ä–∫–∞)
   - –ü–æ–Ω—è—Ç–Ω—ã–µ —Å–æ–æ–±—â–µ–Ω–∏—è –æ–± –æ—à–∏–±–∫–∞—Ö

4. **–°–æ—Ä—Ç–∏—Ä–æ–≤–∫–∞**:
   - –ü–æ –∏–º–µ–Ω–∏ (A-Z, Z-A)
   - –ü–æ –¥–∞—Ç–µ —Å–æ–∑–¥–∞–Ω–∏—è
   - –ü–æ —Å—Ç–∞—Ç—É—Å—É

5. **–ü–∞–≥–∏–Ω–∞—Ü–∏—è**:
   - 50 –∑–∞–ø–∏—Å–µ–π –Ω–∞ —Å—Ç—Ä–∞–Ω–∏—Ü–µ –ø–æ —É–º–æ–ª—á–∞–Ω–∏—é
   - –ù–∞—Å—Ç—Ä–∞–∏–≤–∞–µ–º—ã–π —Ä–∞–∑–º–µ—Ä —Å—Ç—Ä–∞–Ω–∏—Ü—ã

6. **Export**:
   - CSV –¥–ª—è –≤—Å–µ—Ö —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
   - Excel –¥–ª—è –æ—Ç—á—ë—Ç–æ–≤

---

## üîí Permissions –¥–ª—è —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤

```typescript
// New permissions to add to permissions.ts
export type Permission =
  // ... existing permissions
  
  // Customers
  | 'customers:read'
  | 'customers:create'
  | 'customers:update'
  | 'customers:delete'
  
  // Activities
  | 'activities:read'
  | 'activities:create'
  | 'activities:update'
  | 'activities:delete'
  
  // Tags
  | 'tags:read'
  | 'tags:create'
  | 'tags:update'
  | 'tags:delete'
  
  // Calendars
  | 'calendars:read'
  | 'calendars:manage'
```

### Role Mapping

- **admin**: –≤—Å–µ –ø—Ä–∞–≤–∞ –Ω–∞ –≤—Å–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
- **manager**: read/create/update –Ω–∞ –≤—Å–µ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏ (–∫—Ä–æ–º–µ delete)
- **employee**: —Ç–æ–ª—å–∫–æ read –Ω–∞ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏
- **viewer**: —Ç–æ–ª—å–∫–æ read –Ω–∞ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∏

---

## üìà Success Metrics

### KPIs

1. **Adoption Rate**: 
   - 80%+ –ø—Ä–æ–µ–∫—Ç–æ–≤ –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å –ø—Ä–∏–≤—è–∑–∞–Ω–Ω–æ–≥–æ –∫–ª–∏–µ–Ω—Ç–∞
   - 90%+ time entries –¥–æ–ª–∂–Ω—ã –∏–º–µ—Ç—å activity

2. **Data Quality**:
   - <5% –∑–∞–ø–∏—Å–µ–π –±–µ–∑ –æ–±—è–∑–∞—Ç–µ–ª—å–Ω—ã—Ö –ø–æ–ª–µ–π
   - <1% –¥—É–±–ª–µ–π –∫–ª–∏–µ–Ω—Ç–æ–≤

3. **User Satisfaction**:
   - <2 –∫–ª–∏–∫–∞ –¥–ª—è —Å–æ–∑–¥–∞–Ω–∏—è –∑–∞–ø–∏—Å–∏ –∏–∑ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞
   - <30 —Å–µ–∫—É–Ω–¥ –Ω–∞ —Å–æ–∑–¥–∞–Ω–∏–µ –Ω–æ–≤–æ–≥–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞

4. **Performance**:
   - <500ms –∑–∞–≥—Ä—É–∑–∫–∞ —Å–ø–∏—Å–∫–∞ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–æ–≤
   - <100ms –ø–æ–∏—Å–∫ –ø–æ —Å–ø—Ä–∞–≤–æ—á–Ω–∏–∫–∞–º

---

## üõ†Ô∏è Technical Debt

### –ß—Ç–æ –Ω—É–∂–Ω–æ —Ä–µ—Ñ–∞–∫—Ç–æ—Ä–∏—Ç—å

1. **–£–Ω–∏—Ñ–∏—Ü–∏—Ä–æ–≤–∞—Ç—å API endpoints**:
   ```
   /api/dictionaries/customers
   /api/dictionaries/activities
   /api/dictionaries/tags
   /api/dictionaries/calendars
   ```

2. **–°–æ–∑–¥–∞—Ç—å generic –∫–æ–º–ø–æ–Ω–µ–Ω—Ç—ã**:
   - `<DictionaryTable />`
   - `<DictionaryForm />`
   - `<DictionaryFilters />`

3. **–¶–µ–Ω—Ç—Ä–∞–ª–∏–∑–æ–≤–∞—Ç—å –≤–∞–ª–∏–¥–∞—Ü–∏—é**:
   ```typescript
   // schemas/dictionaries.ts
   export const customerSchema = z.object({...})
   export const activitySchema = z.object({...})
   ```

---

**–î–∞—Ç–∞**: 2025-10-15  
**Product Owner**: AI Product Manager  
**Status**: ‚úÖ Ready for Development

