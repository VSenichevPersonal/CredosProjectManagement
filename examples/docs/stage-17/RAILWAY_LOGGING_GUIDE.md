# –õ–æ–≥–∏—Ä–æ–≤–∞–Ω–∏–µ –≤ Railway: –ü–æ–ª–Ω–æ–µ —Ä—É–∫–æ–≤–æ–¥—Å—Ç–≤–æ

**–î–∞—Ç–∞:** 13 –æ–∫—Ç—è–±—Ä—è 2025  
**Stage:** 17  
**–•–æ—Å—Ç–∏–Ω–≥:** Railway

---

## üîç –ì–î–ï –°–ú–û–¢–†–ï–¢–¨ –õ–û–ì–ò –í RAILWAY

### 1. **Deployment Logs** (HTTP –ª–æ–≥–∏)

```
Railway Dashboard ‚Üí Your Service ‚Üí Deployments ‚Üí Latest Deployment ‚Üí Logs
```

**–ü–æ–∫–∞–∑—ã–≤–∞—é—Ç:**
- ‚úÖ HTTP –∑–∞–ø—Ä–æ—Å—ã (GET, POST, etc)
- ‚úÖ –°—Ç–∞—Ç—É—Å –∫–æ–¥—ã (200, 404, 500)
- ‚úÖ –í—Ä–µ–º—è –æ—Ç–≤–µ—Ç–∞
- ‚ùå **–ù–ï –ø–æ–∫–∞–∑—ã–≤–∞—é—Ç** console.log –∏ –¥–µ—Ç–∞–ª—å–Ω—ã–µ trace!

---

### 2. **Service Logs** (–ü–æ–¥—Ä–æ–±–Ω—ã–µ –ª–æ–≥–∏) ‚≠ê

```
Railway Dashboard ‚Üí Your Service ‚Üí View Logs (–∫–Ω–æ–ø–∫–∞ —Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)
```

**–ò–õ–ò –≤ –∫–æ–º–∞–Ω–¥–Ω–æ–π —Å—Ç—Ä–æ–∫–µ:**

```
Railway Dashboard ‚Üí –¢—Ä–∏ —Ç–æ—á–∫–∏ ‚Üí Connect ‚Üí Railway CLI

railway logs --service your-service-name
```

**–ü–æ–∫–∞–∑—ã–≤–∞—é—Ç:**
- ‚úÖ console.log, console.error
- ‚úÖ Trace –ª–æ–≥–∏ (–µ—Å–ª–∏ LOG_LEVEL=debug)
- ‚úÖ –í—Å–µ –Ω–∞—à–∏ logger.debug/info/error
- ‚úÖ SQL –∑–∞–ø—Ä–æ—Å—ã (–µ—Å–ª–∏ –≤–∫–ª—é—á–µ–Ω–æ)
- ‚úÖ –î–µ—Ç–∞–ª–∏ –æ—à–∏–±–æ–∫ —Å–æ stack trace

---

## ‚öôÔ∏è –ù–ê–°–¢–†–û–ô–ö–ê –õ–û–ì–ò–†–û–í–ê–ù–ò–Ø

### –£ –Ω–∞—Å –∏—Å–ø–æ–ª—å–∑—É–µ—Ç—Å—è:

```typescript
// lib/logger.ts
private minLevel: LogLevel = (
  typeof window === "undefined" 
    ? (process.env.LOG_LEVEL as LogLevel) || "trace" 
    : "trace"
)
```

### –£—Ä–æ–≤–Ω–∏ –ª–æ–≥–∏—Ä–æ–≤–∞–Ω–∏—è:

```typescript
trace  // –°–∞–º—ã–π –ø–æ–¥—Ä–æ–±–Ω—ã–π (–≤—Å–µ!)
debug  // –ü–æ–¥—Ä–æ–±–Ω–æ—Å—Ç–∏ –¥–ª—è —Ä–∞–∑—Ä–∞–±–æ—Ç–∫–∏
info   // –í–∞–∂–Ω–∞—è –∏–Ω—Ñ–æ—Ä–º–∞—Ü–∏—è
warn   // –ü—Ä–µ–¥—É–ø—Ä–µ–∂–¥–µ–Ω–∏—è
error  // –¢–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏
```

---

## üéØ –†–ï–ö–û–ú–ï–ù–î–£–ï–ú–´–ï –ù–ê–°–¢–†–û–ô–ö–ò

### Development (—Å–µ–π—á–∞—Å —É —Ç–µ–±—è):
```bash
LOG_LEVEL=debug
```

**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- ‚úÖ –í—Å–µ logger.debug()
- ‚úÖ –í—Å–µ logger.info()
- ‚úÖ –í—Å–µ logger.warn()
- ‚úÖ –í—Å–µ logger.error()
- ‚úÖ SQL –∑–∞–ø—Ä–æ—Å—ã
- ‚úÖ AI –ø—Ä–æ–º–ø—Ç—ã –∏ –æ—Ç–≤–µ—Ç—ã

### Production (–∫–æ–≥–¥–∞ –∑–∞–ø—É—Å—Ç–∏–º):
```bash
LOG_LEVEL=info
```

**–ü–æ–∫–∞–∑—ã–≤–∞–µ—Ç:**
- ‚ùå –ù–ï–¢ logger.debug() (—É–±–∏—Ä–∞–µ—Ç —à—É–º)
- ‚úÖ logger.info()
- ‚úÖ logger.warn()
- ‚úÖ logger.error()

---

## üìä –ö–ê–ö –°–ú–û–¢–†–ï–¢–¨ –õ–û–ì–ò

### –í–∞—Ä–∏–∞–Ω—Ç 1: Railway Dashboard (GUI)

```
1. Railway Dashboard ‚Üí Your Service
2. –ö–Ω–æ–ø–∫–∞ "View Logs" (—Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)
3. –§–∏–ª—å—Ç—Ä—ã:
   - –ü–æ –≤—Ä–µ–º–µ–Ω–∏
   - –ü–æ —É—Ä–æ–≤–Ω—é (info, error, warn)
   - –ü–æ —Ç–µ–∫—Å—Ç—É (–ø–æ–∏—Å–∫)
```

**–ü–ª—é—Å—ã:**
- ‚úÖ –ö—Ä–∞—Å–∏–≤—ã–π UI
- ‚úÖ –§–∏–ª—å—Ç—Ä—ã
- ‚úÖ –ê–≤—Ç–æ–æ–±–Ω–æ–≤–ª–µ–Ω–∏–µ

**–ú–∏–Ω—É—Å—ã:**
- ‚ùå –û–≥—Ä–∞–Ω–∏—á–µ–Ω –ø–æ—Å–ª–µ–¥–Ω–∏–º–∏ N —Å—Ç—Ä–æ–∫–∞–º–∏
- ‚ùå –ù–µ—Ç —Å–æ—Ö—Ä–∞–Ω–µ–Ω–∏—è –≤ —Ñ–∞–π–ª

---

### –í–∞—Ä–∏–∞–Ω—Ç 2: Railway CLI (—Ä–µ–∫–æ–º–µ–Ω–¥—É—é!) ‚≠ê

```bash
# –£—Å—Ç–∞–Ω–æ–≤–∫–∞
npm install -g @railway/cli

# –õ–æ–≥–∏–Ω
railway login

# –°–≤—è–∑–∞—Ç—å —Å –ø—Ä–æ–µ–∫—Ç–æ–º
railway link

# –°–º–æ—Ç—Ä–µ—Ç—å –ª–æ–≥–∏ –≤ —Ä–µ–∞–ª—å–Ω–æ–º –≤—Ä–µ–º–µ–Ω–∏
railway logs --follow

# –§–∏–ª—å—Ç—Ä –ø–æ —É—Ä–æ–≤–Ω—é
railway logs --level error

# –ü–æ—Å–ª–µ–¥–Ω–∏–µ 100 —Å—Ç—Ä–æ–∫
railway logs --lines 100

# –°–æ—Ö—Ä–∞–Ω–∏—Ç—å –≤ —Ñ–∞–π–ª
railway logs --lines 1000 > logs.txt
```

**–ü–ª—é—Å—ã:**
- ‚úÖ Real-time stream
- ‚úÖ –ù–µ–æ–≥—Ä–∞–Ω–∏—á–µ–Ω–Ω–∞—è –∏—Å—Ç–æ—Ä–∏—è
- ‚úÖ Grep, —Ñ–∏–ª—å—Ç—Ä—ã
- ‚úÖ –°–æ—Ö—Ä–∞–Ω–µ–Ω–∏–µ –≤ —Ñ–∞–π–ª

---

### –í–∞—Ä–∏–∞–Ω—Ç 3: External Logging (–¥–ª—è production)

**–ü–æ–¥–∫–ª—é—á–∏—Ç—å:**
- Sentry (–æ—à–∏–±–∫–∏)
- LogRocket (user sessions)
- Datadog (–º–µ—Ç—Ä–∏–∫–∏ + –ª–æ–≥–∏)
- Better Stack (–ª–æ–≥–∏ + –º–æ–Ω–∏—Ç–æ—Ä–∏–Ω–≥)

```bash
# .env
SENTRY_DSN=https://...
LOGROCKET_APP_ID=...
```

---

## üéØ –¢–í–û–ô –°–õ–£–ß–ê–ô

### –°–µ–π—á–∞—Å —É —Ç–µ–±—è LOG_LEVEL=debug

**–õ–æ–≥–∏ –¥–æ—Å—Ç—É–ø–Ω—ã:**

1. **–í Railway Dashboard:**
   ```
   Your Service ‚Üí View Logs
   ```

2. **–§–∏–ª—å—Ç—Ä—É–π –ø–æ:**
   - "[Upload" - –≤—Å–µ –ø—Ä–æ –∑–∞–≥—Ä—É–∑–∫—É
   - "[AI" - –≤—Å–µ –ø—Ä–æ AI
   - "ERROR" - —Ç–æ–ª—å–∫–æ –æ—à–∏–±–∫–∏

3. **–ò—â–∏:**
   ```
   [Upload Error] Response:  // –î–µ—Ç–∞–ª–∏ –æ—à–∏–±–æ–∫ –∑–∞–≥—Ä—É–∑–∫–∏
   [v0] Document created:    // –£—Å–ø–µ—à–Ω–∞—è –∑–∞–≥—Ä—É–∑–∫–∞
   [DocumentService]         // –õ–æ–≥–∏ —Å–µ—Ä–≤–∏—Å–∞
   ```

---

## üêõ –û–¢–õ–ê–î–ö–ê –ö–û–ù–ö–†–ï–¢–ù–û–ô –ü–†–û–ë–õ–ï–ú–´

### –ü—Ä–æ–±–ª–µ–º–∞: "Invalid uuid complianceRecordId"

**–ö–∞–∫ –Ω–∞–π—Ç–∏:**

```bash
# –í Railway CLI:
railway logs --follow | grep "complianceRecordId"

# –ò–ª–∏ –≤ Dashboard:
View Logs ‚Üí –ø–æ–∏—Å–∫ "complianceRecordId"
```

**–ß—Ç–æ –∏—Å–∫–∞—Ç—å:**
```
[Upload Error] Response: { validation: "uuid", code: "invalid_string" }
[v0] complianceId: undefined  // –ï—Å–ª–∏ –Ω–µ –ø–µ—Ä–µ–¥–∞–Ω
[v0] Uploading file to storage...  // –ù–∞—á–∞–ª–æ –ø—Ä–æ—Ü–µ—Å—Å–∞
```

---

## ‚úÖ –ò–¢–û–ì–û

**–î–ª—è –ø–æ–¥—Ä–æ–±–Ω—ã—Ö –ª–æ–≥–æ–≤:**

```
Railway Dashboard ‚Üí Your Service ‚Üí View Logs (—Å–ø—Ä–∞–≤–∞ –≤–≤–µ—Ä—Ö—É)

–ò–õ–ò

railway logs --follow
```

**–£ —Ç–µ–±—è LOG_LEVEL=debug** - –≤–∏–¥–∏—à—å –í–°–Å! üîç

**HTTP –ª–æ–≥–∏** (GET/POST/200/404) - —ç—Ç–æ —É–ø—Ä–æ—â–µ–Ω–Ω—ã–π –≤–∏–¥, –¥–ª—è –¥–µ—Ç–∞–ª—å–Ω–æ–≥–æ - –≤ Service Logs!

---

**–ü—Ä–æ–≤–µ—Ä—å —Å–µ–π—á–∞—Å Service Logs - —Ç–∞–º –±—É–¥—É—Ç –≤—Å–µ –¥–µ—Ç–∞–ª–∏!** üìä

