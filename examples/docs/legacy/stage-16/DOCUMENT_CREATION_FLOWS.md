# User Flows: ะกะพะทะดะฐะฝะธะต ะดะพะบัะผะตะฝัะพะฒ ะธ ัะฒัะทั ั ะดะพะบะฐะทะฐัะตะปัััะฒะฐะผะธ

**ะะฐัะฐ:** 13 ะพะบััะฑัั 2025  
**ะะฒัะพั:** Product Owner + UX Architect  
**ะฆะตะปั:** ะะฟะธัะฐัั ะฟะพะฝััะฝัะต ััะตะฝะฐัะธะธ ัะฐะฑะพัั ะฟะพะปัะทะพะฒะฐัะตะปะตะน

---

## ๐ฏ ะกะะะกะะะซ ะกะะะะะะะฏ ะะะะฃะะะะขะะ

### ะกะฟะพัะพะฑ 1: **ะะท ะฑะธะฑะปะธะพัะตะบะธ ะดะพะบัะผะตะฝัะพะฒ** (ะฝะตะทะฐะฒะธัะธะผะพ ะพั ะบะพะผะฟะปะฐะตะฝัะฐ)

#### UI Flow:

```
ะะพะปัะทะพะฒะฐัะตะปั: ะกะฟะตัะธะฐะปะธัั ะฟะพ ะะ
ะะฐะดะฐัะฐ: ะกะพะทะดะฐัั ะฟะพะปะธัะธะบั ะะ ะดะปั ะพัะณะฐะฝะธะทะฐัะธะธ

1. ะะตัะตัะพะด ะฒ /documents
   โโ ะะธะดะธั ะฑะธะฑะปะธะพัะตะบั ะดะพะบัะผะตะฝัะพะฒ ะพัะณะฐะฝะธะทะฐัะธะธ

2. ะะปะธะบ "ะกะพะทะดะฐัั ะดะพะบัะผะตะฝั"
   โโ ะัะบััะฒะฐะตััั ะดะธะฐะปะพะณ

3. ะัะฑะพั ัะธะฟะฐ ะดะพะบัะผะตะฝัะฐ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ ะัะฑะตัะธัะต ัะธะฟ ะดะพะบัะผะตะฝัะฐ:              โ
   โ                                      โ
   โ โ ๐ ะะพะปะธัะธะบะฐ                        โ
   โ โ ๐ ะัะธะบะฐะท                          โ
   โ โ ๐ ะะฝััััะบัะธั                      โ
   โ โ ๐ ะะบั                            โ
   โ โ ๐ ะััะตั                          โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

4. ะัะฑัะฐะป "ะะพะปะธัะธะบะฐ" โ ะฟะพะบะฐะทัะฒะฐัััั ะฟะพะดัะพะดััะธะต ัะฐะฑะปะพะฝั
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ ะัะฟะพะปัะทะพะฒะฐัั ัะฐะฑะปะพะฝ? (ะพะฟัะธะพะฝะฐะปัะฝะพ)   โ
   โ                                      โ
   โ โ๏ธ ะะพะปะธัะธะบะฐ ะะ (ะพะฑัะฐั)              โ
   โ โ ะะพะปะธัะธะบะฐ ะะะฝ                      โ
   โ โ ะะพะปะธัะธะบะฐ ัะฐะฑะพัั ั ะญะ              โ
   โ โ ะะตะท ัะฐะฑะปะพะฝะฐ (ะฟัััะพะน ะดะพะบัะผะตะฝั)     โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

5. ะัะฑัะฐะป "ะะพะปะธัะธะบะฐ ะะ" โ ัะพัะผะฐ ะฐะฒัะพะผะฐัะธัะตัะบะธ ะทะฐะฟะพะปะฝัะตััั
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ ะะฐะทะฒะฐะฝะธะต: ะะพะปะธัะธะบะฐ ะธะฝัะพัะผะฐัะธะพะฝะฝะพะน    โ
   โ           ะฑะตะทะพะฟะฐัะฝะพััะธ               โ
   โ                                      โ
   โ ะะพะผะตั ะดะพะบัะผะตะฝัะฐ: โ___-ะะ            โ
   โ ะะฐัะฐ ะดะพะบัะผะตะฝัะฐ: [13.10.2025]        โ
   โ                                      โ
   โ ะกัะพะบ ะดะตะนััะฒะธั: [36] ะผะตัััะตะฒ         โ
   โ (ะฐะฒัะพะผะฐัะธัะตัะบะธ ะธะท document_type)     โ
   โ                                      โ
   โ ะกัะพะบ ััะฐะฝะตะฝะธั: [ะะพััะพัะฝะฝะพ]          โ
   โ (ะฐะฒัะพะผะฐัะธัะตัะบะธ ะธะท document_type)     โ
   โ                                      โ
   โ ะคะฐะนะป: [ะัะฑัะฐัั ัะฐะนะป] ะธะปะธ             โ
   โ       [ะกะบะฐัะฐัั ัะฐะฑะปะพะฝ ะธ ะทะฐะฟะพะปะฝะธัั]   โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

6. ะกะบะฐัะธะฒะฐะตั ัะฐะฑะปะพะฝ .docx
   โโ ะะฐะฟะพะปะฝัะตั ะฒ Word/LibreOffice
   โโ ะะฐะณััะถะฐะตั ะพะฑัะฐัะฝะพ

7. ะกะธััะตะผะฐ ัะพะทะดะฐะตั:
   documents:
     - id: doc-123
     - title: "ะะพะปะธัะธะบะฐ ะะ"
     - document_type_id: policy-ib
     - document_number: "โ15-ะะ"
     - template_id: kb-template-policy
     - lifecycle_status: draft

   document_versions:
     - document_id: doc-123
     - version_number: v1.0
     - file_url: /storage/policy-v1.pdf
     - is_current: true

8. ะะพะบัะผะตะฝั ัะพะทะดะฐะฝ โ ะพัะพะฑัะฐะถะฐะตััั ะฒ ะฑะธะฑะปะธะพัะตะบะต
   โโ ะกัะฐััั: Draft (ะงะตัะฝะพะฒะธะบ)
```

**ะะตะทัะปััะฐั:**
- โ ะะพะบัะผะตะฝั ัะพะทะดะฐะฝ ะฒ ัะธััะตะผะต ะดะพะบัะผะตะฝัะพะพะฑะพัะพัะฐ
- โ ะะพะบะฐ ะะ ัะฒัะทะฐะฝ ั ะบะพะผะฟะปะฐะตะฝัะพะผ
- โ ะะพะถะฝะพ ัะตะดะฐะบัะธัะพะฒะฐัั, ะฒะตััะธะพะฝะธัะพะฒะฐัั
- โณ ะะดะตั ััะฒะตัะถะดะตะฝะธั

---

### ะกะฟะพัะพะฑ 2: **ะััะผะพ ะฟัะธ ัะพะทะดะฐะฝะธะธ ะผะตัั** (ะบะพะฝัะตะบัั ะบะพะผะฟะปะฐะตะฝัะฐ)

#### UI Flow:

```
ะะพะปัะทะพะฒะฐัะตะปั: ะะตะฝะตะดะถะตั ะฟะพ ะบะพะผะฟะปะฐะตะฝัั
ะะฐะดะฐัะฐ: ะะฝะตะดัะธัั ะผะตัั "ะะฐะทัะฐะฑะพัะฐัั ะฟะพะปะธัะธะบั ะะ"

1. ะัะบััะป compliance_record ะดะปั ะะะ-003
   โโ ะะธะดะธั ะผะตัั "ะะฐะทัะฐะฑะพัะฐัั ะฟะพะปะธัะธะบั ะะ"

2. ะะปะธะบ ะฝะฐ ะผะตัั โ ะฒะบะปะฐะดะบะฐ "ะะพะบะฐะทะฐัะตะปัััะฒะฐ"
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ ะะพะฑะฐะฒะธัั ะดะพะบะฐะทะฐัะตะปัััะฒะพ:             โ
   โ                                      โ
   โ [๐ ะคะฐะนะป] [๐ ะะพะบัะผะตะฝั] [โจ ะกะพะทะดะฐัั] โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

3. ะัะฑัะฐะป "โจ ะกะพะทะดะฐัั" โ ัะผะฝะฐั ัะธััะตะผะฐ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ ๐ก ะะตะบะพะผะตะฝะดะฐัะธั:                    โ
   โ                                      โ
   โ ะะปั ะผะตัั "ะะพะปะธัะธะบะฐ ะะ" ัะตะบะพะผะตะฝะดัะตะผ:  โ
   โ                                      โ
   โ ๐ ะขะธะฟ ะดะพะบัะผะตะฝัะฐ: ะะพะปะธัะธะบะฐ           โ
   โ ๐ ะจะฐะฑะปะพะฝ: ะะพะปะธัะธะบะฐ ะะ (ะพะฑัะฐั)      โ
   โ                                      โ
   โ [ะัะฟะพะปัะทะพะฒะฐัั ัะตะบะพะผะตะฝะดะฐัะธั] [ะััะณะพะน] โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

4. ะะปะธะบ "ะัะฟะพะปัะทะพะฒะฐัั" โ ัะพัะผะฐ ั ัะผะฝัะผะธ defaults
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ โจ ะกะพะทะดะฐะฝะธะต ะดะพะบัะผะตะฝัะฐ ะธะท ัะฐะฑะปะพะฝะฐ    โ
   โ                                      โ
   โ ะะฐะทะฒะฐะฝะธะต: ะะพะปะธัะธะบะฐ ะธะฝัะพัะผะฐัะธะพะฝะฝะพะน    โ
   โ           ะฑะตะทะพะฟะฐัะฝะพััะธ ะะ "..."      โ
   โ                                      โ
   โ ะะพะผะตั: โ15-ะะ                       โ
   โ ะะฐัะฐ: 13.10.2025                     โ
   โ                                      โ
   โ [ะกะบะฐัะฐัั ัะฐะฑะปะพะฝ] [ะะฐะณััะทะธัั ัะฐะนะป]   โ
   โ                                      โ
   โ โ๏ธ ะกัะฐะทั ะธัะฟะพะปัะทะพะฒะฐัั ะบะฐะบ            โ
   โ    ะดะพะบะฐะทะฐัะตะปัััะฒะพ ะดะปั ััะพะน ะผะตัั      โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

5. ะกะบะฐัะธะฒะฐะตั ัะฐะฑะปะพะฝ, ะทะฐะฟะพะปะฝัะตั, ะทะฐะณััะถะฐะตั

6. ะกะธััะตะผะฐ ะะะขะะะะขะะงะะกะะ:
   
   a) ะกะพะทะดะฐะตั ะดะพะบัะผะตะฝั:
      documents:
        - title: "ะะพะปะธัะธะบะฐ ะะ ะะ ะฉัะบะธะฝะพะฐะทะพั"
        - document_type_id: policy-ib
        - template_id: kb-template-policy
        - lifecycle_status: draft
   
   b) ะกะพะทะดะฐะตั ะดะพะบะฐะทะฐัะตะปัััะฒะพ:
      evidence:
        - document_id: doc-123  โญ ะกััะปะบะฐ!
        - compliance_record_id: comp-ะะะ
        - evidence_type_id: policy
        - title: "ะะพะปะธัะธะบะฐ ะะ"
   
   c) ะกะฒัะทัะฒะฐะตั ั ะผะตัะพะน:
      evidence_links:
        - evidence_id: ev-456
        - control_measure_id: cm-789

7. ะะพะปัะทะพะฒะฐัะตะปั ะฒะธะดะธั:
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ โ ะะพะบะฐะทะฐัะตะปัััะฒะพ ะดะพะฑะฐะฒะปะตะฝะพ          โ
   โ                                      โ
   โ ๐ ะะพะปะธัะธะบะฐ ะะ ะะ ะฉัะบะธะฝะพะฐะทะพั        โ
   โ โ15-ะะ ะพั 13.10.2025                โ
   โ ะกัะฐััั: Draft                        โ
   โ                                      โ
   โ [ะัะบัััั ะดะพะบัะผะตะฝั] [ะฃัะฒะตัะดะธัั]       โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะะตะทัะปััะฐั:**
- โ ะะพะบัะผะตะฝั ัะพะทะดะฐะฝ
- โ ะกัะฐะทั ะฟัะธะฒัะทะฐะฝ ะบะฐะบ ะดะพะบะฐะทะฐัะตะปัััะฒะพ
- โ ะกะฒัะทะฐะฝ ั ะผะตัะพะน
- โ ะะพะถะฝะพ ะพัะบัััั ะฒ ะฑะธะฑะปะธะพัะตะบะต ะดะพะบัะผะตะฝัะพะฒ
- โ ะะพะถะฝะพ ััะฒะตัะดะธัั ัะตัะตะท workflow

---

### ะกะฟะพัะพะฑ 3: **ะัะฟะพะปัะทะพะฒะฐัั ัััะตััะฒัััะธะน ะดะพะบัะผะตะฝั**

#### UI Flow:

```
ะะพะปัะทะพะฒะฐัะตะปั: ะะตะฝะตะดะถะตั ะฟะพ ะบะพะผะฟะปะฐะตะฝัั
ะะฐะดะฐัะฐ: ะะปั ะผะตัั "ะะฑััะตะฝะธะต ะฟะตััะพะฝะฐะปะฐ" ะธัะฟะพะปัะทะพะฒะฐัั ัััะตััะฒััััั ะฟะพะปะธัะธะบั

1. ะ ะผะตัะต โ ะะพะฑะฐะฒะธัั ะดะพะบะฐะทะฐัะตะปัััะฒะพ โ [๐ ะะพะบัะผะตะฝั]

2. ะัะบััะฒะฐะตััั ัะตะปะตะบัะพั ะดะพะบัะผะตะฝัะพะฒ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ ะัะฑะตัะธัะต ะดะพะบัะผะตะฝั ะธะท ะฑะธะฑะปะธะพัะตะบะธ:     โ
   โ                                      โ
   โ ๐ ะะพะธัะบ: [ะฟะพะปะธัะธะบะฐ ะพะฑััะตะฝ...]      โ
   โ                                      โ
   โ ะคะธะปัััั:                             โ
   โ ะขะธะฟ: [ะัะต ัะธะฟั โผ]                   โ
   โ ะกัะฐััั: [โ ะขะพะปัะบะพ ะฐะบัะธะฒะฝัะต]         โ
   โ ะัะณะฐะฝะธะทะฐัะธั: [ะขะตะบััะฐั]               โ
   โ                                      โ
   โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
   โ โ โ ะะพะปะธัะธะบะฐ ะะ                   โ โ
   โ โ   โ15-ะะ ะพั 13.10.2025           โ โ
   โ โ   ะะตััะธั: v1.0                   โ โ
   โ โ   ะัะฟะพะปัะทัะตััั ะฒ: 2 ะผะตัั         โ โ
   โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโค โ
   โ โ โ ะะพะปะธัะธะบะฐ ะพะฑััะตะฝะธั ะฟะตััะพะฝะฐะปะฐ   โ โ
   โ โ   โ28-ะะ ะพั 01.09.2025           โ โ
   โ โ   ะะตััะธั: v1.1                   โ โ
   โ โ   ะัะฟะพะปัะทัะตััั ะฒ: 0 ะผะตั          โ โ
   โ โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ โ
   โ                                      โ
   โ [ะัะผะตะฝะฐ] [ะัะฟะพะปัะทะพะฒะฐัั ะฒัะฑัะฐะฝะฝัะน]    โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

3. ะัะฑะธัะฐะตั "ะะพะปะธัะธะบะฐ ะพะฑััะตะฝะธั" โ ะบะปะธะบ "ะัะฟะพะปัะทะพะฒะฐัั"

4. ะกะธััะตะผะฐ ัะพะทะดะฐะตั evidence:
   evidence:
     - document_id: doc-555  โญ ะกััะปะบะฐ ะฝะฐ ัััะตััะฒัััะธะน
     - file_url: NULL
     - compliance_record_id: comp-ะะะฝ-007
     - title: "ะะพะปะธัะธะบะฐ ะพะฑััะตะฝะธั ะฟะตััะพะฝะฐะปะฐ"
     - description: "ะะพะบะฐะทะฐัะตะปัััะฒะพ ะดะปั ะผะตัั ะพะฑััะตะฝะธั"

5. ะะฒัะพะผะฐัะธัะตัะบะธ ัะฒัะทัะฒะฐะตั:
   evidence_links:
     - evidence_id: ev-ะฝะพะฒัะน
     - control_measure_id: cm-ะพะฑััะตะฝะธะต

6. ะะพะปัะทะพะฒะฐัะตะปั ะฒะธะดะธั:
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ โ ะะพะบะฐะทะฐัะตะปัััะฒะพ ะดะพะฑะฐะฒะปะตะฝะพ          โ
   โ                                      โ
   โ ๐ ะะพะปะธัะธะบะฐ ะพะฑััะตะฝะธั ะฟะตััะพะฝะฐะปะฐ       โ
   โ โ28-ะะ ะพั 01.09.2025                โ
   โ ะะตััะธั: v1.1                         โ
   โ ะกัะฐััั: Active                       โ
   โ                                      โ
   โ โน๏ธ ะญัะพั ะดะพะบัะผะตะฝั ัะฐะบะถะต ะธัะฟะพะปัะทัะตััั: โ
   โ   - ะ ััะตะฑะพะฒะฐะฝะธะธ ะะะฝ-003             โ
   โ                                      โ
   โ [ะัะบัััั ะดะพะบัะผะตะฝั] [ะัะฒัะทะฐัั]        โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
```

**ะะตะทัะปััะฐั:**
- โ ะะตัะตะธัะฟะพะปัะทะพะฒะฐะฝ ัััะตััะฒัััะธะน ะดะพะบัะผะตะฝั
- โ ะะต ัะพะทะดะฐะฒะฐะปะธ ะดัะฑะปะธะบะฐัะพะฒ
- โ ะะธะดะฝะพ ะณะดะต ะตัะต ะธัะฟะพะปัะทัะตััั
- โ ะัะธ ะพะฑะฝะพะฒะปะตะฝะธะธ ะดะพะบัะผะตะฝัะฐ - ะฒัะต evidence ะพะฑะฝะพะฒัััั

---

### ะกะฟะพัะพะฑ 4: **ะะฒัะพะผะฐัะธัะตัะบะพะต ัะพะทะดะฐะฝะธะต ะฟะพ ัะตะบะพะผะตะฝะดะฐัะธะธ**

#### UI Flow:

```
ะะพะปัะทะพะฒะฐัะตะปั: ะะตะฝะตะดะถะตั ะฟะพ ะบะพะผะฟะปะฐะตะฝัั
ะะฐะดะฐัะฐ: ะัะฟะพะปะฝะธัั ััะตะฑะพะฒะฐะฝะธะต ะะะ-002 "ะะฐัะตะณะพัะธัะพะฒะฐะฝะธะต"

1. ะกะพะทะดะฐะป compliance_record ะดะปั ะะะ-002

2. ะกะธััะตะผะฐ ะะะขะะะะขะะงะะกะะ ะฟะพะบะฐะทัะฒะฐะตั:
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ ๐ก ะะตะบะพะผะตะฝะดัะตะผัะต ะดะตะนััะฒะธั:           โ
   โ                                      โ
   โ ะะปั ะฒัะฟะพะปะฝะตะฝะธั ััะตะฑะพะฒะฐะฝะธั ะฝัะถะฝะพ:     โ
   โ                                      โ
   โ โ ะะตัั ะทะฐัะธัั (3):                 โ
   โ    - ะกะพะทะดะฐัั ะบะพะผะธััะธั ะฟะพ ะะะ         โ
   โ    - ะัะพะฒะตััะธ ะบะฐัะตะณะพัะธัะพะฒะฐะฝะธะต        โ
   โ    - ะะพะดะฐัั ัะฒะตะดะตะฝะธั ะฒ ะคะกะขะญะ         โ
   โ                                      โ
   โ โ ะะพะบัะผะตะฝัั (2):                   โ
   โ    - ะัะธะบะฐะท ะพ ัะพะทะดะฐะฝะธะธ ะบะพะผะธััะธะธ      โ
   โ    - ะะบั ะบะฐัะตะณะพัะธัะพะฒะฐะฝะธั             โ
   โ                                      โ
   โ [ะกะพะทะดะฐัั ะฒัั ะฐะฒัะพะผะฐัะธัะตัะบะธ]          โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

3. ะะปะธะบ "ะกะพะทะดะฐัั ะฒัั" โ ัะธััะตะผะฐ ะดะตะปะฐะตั:
   
   a) ะกะพะทะดะฐะตั ะผะตัั ะธะท control_templates
   
   b) ะะปั ะบะฐะถะดะพะน ะผะตัั ัะผะพััะธั ัะตะบะพะผะตะฝะดะฐัะธะธ:
      requirement_document_templates
        WHERE requirement_id = ะะะ-002
      
      ะะฐัะพะดะธั:
      - template: "ะัะธะบะฐะท ะพ ะบะพะผะธััะธะธ ะะะ"
      - template: "ะะบั ะบะฐัะตะณะพัะธัะพะฒะฐะฝะธั"
   
   c) ะกะพะทะดะฐะตั ะงะะะะะะะะ ะดะพะบัะผะตะฝัะพะฒ:
      documents:
        - title: "ะัะธะบะฐะท ะพ ัะพะทะดะฐะฝะธะธ ะบะพะผะธััะธะธ ะฟะพ ะะะ"
        - template_id: kb-template-commission-order
        - lifecycle_status: draft
        - owner_id: current_user
      
      documents:
        - title: "ะะบั ะบะฐัะตะณะพัะธัะพะฒะฐะฝะธั ะพะฑัะตะบัะพะฒ ะะะ"
        - template_id: kb-template-kii-act
        - lifecycle_status: draft
   
   d) ะกะพะทะดะฐะตั evidence ะดะปั ะบะฐะถะดะพะณะพ:
      evidence:
        - document_id: doc-ะฟัะธะบะฐะท
        - compliance_record_id: comp-ะะะ
      
      evidence:
        - document_id: doc-ะฐะบั
        - compliance_record_id: comp-ะะะ
   
   e) ะกะฒัะทัะฒะฐะตั ั ะผะตัะฐะผะธ:
      evidence_links

4. ะะพะปัะทะพะฒะฐัะตะปั ะฒะธะดะธั:
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ โ ะกะพะทะดะฐะฝะพ ะฐะฒัะพะผะฐัะธัะตัะบะธ:            โ
   โ                                      โ
   โ ะะตัั: 3                              โ
   โ ะะพะบัะผะตะฝัั: 2 (ัะตัะฝะพะฒะธะบะธ)             โ
   โ ะะพะบะฐะทะฐัะตะปัััะฒะฐ: 2                    โ
   โ                                      โ
   โ ๐ ะกะปะตะดัััะธะต ัะฐะณะธ:                  โ
   โ 1. ะกะบะฐัะฐะนัะต ัะฐะฑะปะพะฝั ะดะพะบัะผะตะฝัะพะฒ       โ
   โ 2. ะะฐะฟะพะปะฝะธัะต ะธั                      โ
   โ 3. ะะฐะณััะทะธัะต ะพะฑัะฐัะฝะพ                 โ
   โ 4. ะัะฟัะฐะฒััะต ะฝะฐ ััะฒะตัะถะดะตะฝะธะต          โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

5. ะะปั ะบะฐะถะดะพะณะพ ัะตัะฝะพะฒะธะบะฐ:
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
   โ ๐ ะัะธะบะฐะท ะพ ัะพะทะดะฐะฝะธะธ ะบะพะผะธััะธะธ ะะะ   โ
   โ ะกัะฐััั: โ๏ธ Draft                    โ
   โ                                      โ
   โ ะะตะนััะฒะธั:                            โ
   โ [ะกะบะฐัะฐัั ัะฐะฑะปะพะฝ .docx]               โ
   โ [ะะฐะณััะทะธัั ะทะฐะฟะพะปะฝะตะฝะฝัะน]              โ
   โ [ะัะฟัะฐะฒะธัั ะฝะฐ ััะฒะตัะถะดะตะฝะธะต]           โ
   โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

6. ะะฐะณััะถะฐะตั ะทะฐะฟะพะปะฝะตะฝะฝัะน โ ัะพะทะดะฐะตััั ะฒะตััะธั v1.0

7. ะัะฟัะฐะฒะปัะตั ะฝะฐ ััะฒะตัะถะดะตะฝะธะต โ ัะพะทะดะฐะตััั approval workflow
```

**ะะตะทัะปััะฐั:**
- โ ะญะบะพะฝะพะผะธั ะฒัะตะผะตะฝะธ (ะฒัั ะฐะฒัะพะผะฐัะธัะตัะบะธ)
- โ ะะต ะทะฐะฑัะปะธ ะฝะธัะตะณะพ ัะพะทะดะฐัั
- โ ะัะฐะฒะธะปัะฝะฐั ััััะบัััะฐ ััะฐะทั
- โ Guided process

---

## ๐ ะกะะฏะะซะะะะะ: ะะพะบัะผะตะฝัั โ ะะพะบะฐะทะฐัะตะปัััะฒะฐ

### API Endpoints:

```typescript
// =====================================================
// 1. ะกะะะะะะะ ะะะะฃะะะะขะ
// =====================================================

POST /api/documents
{
  title: "ะะพะปะธัะธะบะฐ ะะ",
  document_type_id: "uuid-policy-ib",
  template_id: "uuid-kb-template",  // ะะฟัะธะพะฝะฐะปัะฝะพ
  document_number: "โ15-ะะ",
  document_date: "2025-10-13",
  organization_id: "uuid-org",
  file: <multipart/form-data>
}

โ Response:
{
  document: {
    id: "doc-123",
    current_version: { version_number: "v1.0", ... }
  }
}

// =====================================================
// 2. ะะกะะะะฌะะะะะะะ ะะะะฃะะะะขะ ะะะ ะะะะะะะขะะะฌะกะขะะ
// =====================================================

POST /api/evidence
{
  // ะะฐัะธะฐะฝั ะ: ะกััะปะบะฐ ะฝะฐ ัััะตััะฒัััะธะน ะดะพะบัะผะตะฝั
  document_id: "doc-123",
  
  // ะะฐัะธะฐะฝั ะ: ะะฐะณััะทะบะฐ ัะฐะนะปะฐ
  // file: <multipart>,
  // file_name: "screenshot.png"
  
  evidence_type_id: "uuid-policy",
  compliance_record_id: "comp-123",
  title: "ะะพะปะธัะธะบะฐ ะะ ะบะฐะบ ะดะพะบะฐะทะฐัะตะปัััะฒะพ",
  description: "ะะพะดัะฒะตัะถะดะฐะตั ะฝะฐะปะธัะธะต ััะฒะตัะถะดะตะฝะฝะพะน ะฟะพะปะธัะธะบะธ"
}

โ Response:
{
  evidence: {
    id: "ev-456",
    document_id: "doc-123",
    document: {  // Populated
      title: "ะะพะปะธัะธะบะฐ ะะ",
      document_number: "โ15-ะะ",
      current_version: { version_number: "v1.0" }
    }
  }
}

// =====================================================
// 3. ะกะะฏะะซะะะะะ ะก ะะะะะ
// =====================================================

POST /api/evidence-links
{
  evidence_id: "ev-456",
  control_measure_id: "cm-789",
  link_notes: "ะัะฝะพะฒะฝะพะต ะดะพะบะฐะทะฐัะตะปัััะฒะพ",
  relevance_score: 5
}

// =====================================================
// 4. ะกะะะะะะะ ะะะะฃะะะะขะ + EVIDENCE ะ ะะะะะ ะะะะะะกะ
// =====================================================

POST /api/documents/create-with-evidence
{
  // ะะฐะฝะฝัะต ะดะพะบัะผะตะฝัะฐ
  document: {
    title: "ะะพะปะธัะธะบะฐ ะะ",
    document_type_id: "uuid",
    template_id: "uuid",
    document_number: "โ15-ะะ",
    file: <multipart>
  },
  
  // ะะฐะฝะฝัะต ะดะพะบะฐะทะฐัะตะปัััะฒะฐ
  evidence: {
    compliance_record_id: "comp-123",
    evidence_type_id: "uuid-policy",
    control_measure_ids: ["cm-789", "cm-790"],  // ะกัะฐะทั ัะฒัะทะฐัั ั ะผะตัะฐะผะธ
    title: "ะะพะปะธัะธะบะฐ ะะ"
  }
}

โ Response:
{
  document: { id: "doc-123", ... },
  evidence: { id: "ev-456", ... },
  links: [
    { evidence_id: "ev-456", control_measure_id: "cm-789" },
    { evidence_id: "ev-456", control_measure_id: "cm-790" }
  ]
}

// =====================================================
// 5. ะะะขะะะะขะะงะะกะะะ ะกะะะะะะะ ะะ REQUIREMENT
// =====================================================

POST /api/compliance-records/{id}/auto-create-documents
{
  // ะัััะพะน body ะธะปะธ ะฟะฐัะฐะผะตััั
}

โ ะกะธััะตะผะฐ:
1. ะะพะปััะฐะตั requirement.id ะธะท compliance_record
2. ะะฐัะพะดะธั requirement_document_templates ะดะปั ััะพะณะพ requirement
3. ะะปั ะบะฐะถะดะพะณะพ ัะฐะฑะปะพะฝะฐ:
   - ะกะพะทะดะฐะตั draft document
   - ะกะพะทะดะฐะตั evidence ั document_id
   - ะกะฒัะทัะฒะฐะตั ั ะฟะพะดัะพะดััะธะผะธ ะผะตัะฐะผะธ

โ Response:
{
  created_documents: [
    { id: "doc-1", title: "ะัะธะบะฐะท...", status: "draft" },
    { id: "doc-2", title: "ะะบั...", status: "draft" }
  ],
  created_evidence: [
    { id: "ev-1", document_id: "doc-1" },
    { id: "ev-2", document_id: "doc-2" }
  ],
  next_steps: [
    "ะกะบะฐัะฐะนัะต ะธ ะทะฐะฟะพะปะฝะธัะต ัะฐะฑะปะพะฝั",
    "ะะฐะณััะทะธัะต ะทะฐะฟะพะปะฝะตะฝะฝัะต ะดะพะบัะผะตะฝัั",
    "ะัะฟัะฐะฒััะต ะฝะฐ ััะฒะตัะถะดะตะฝะธะต"
  ]
}
```

---

## ๐จ UI ะะะะะะะะะขะซ (ะดะตัะฐะปัะฝะพ)

### 1. **ะะฐััะพัะบะฐ ะดะพะบะฐะทะฐัะตะปัััะฒะฐ ั ะดะพะบัะผะตะฝัะพะผ**

```tsx
// components/evidence/evidence-card-with-document.tsx

export function EvidenceCardWithDocument({ evidence }) {
  const { document } = evidence  // Populated ัะตัะตะท JOIN
  
  if (evidence.document_id) {
    return (
      <Card className="border-l-4 border-l-blue-500">
        <CardHeader>
          <div className="flex items-center gap-2">
            <FileText className="h-5 w-5 text-blue-600" />
            <Badge variant="outline">ะะพะบัะผะตะฝั</Badge>
            <Badge variant={getLifecycleBadge(document.lifecycle_status)}>
              {document.lifecycle_status}
            </Badge>
          </div>
          <CardTitle>{evidence.title}</CardTitle>
        </CardHeader>
        
        <CardContent>
          {/* ะะตะบะฒะธะทะธัั ะดะพะบัะผะตะฝัะฐ */}
          <div className="space-y-2 text-sm">
            <div className="flex justify-between">
              <span className="text-muted-foreground">ะะพะผะตั:</span>
              <span className="font-medium">{document.document_number}</span>
            </div>
            <div className="flex justify-between">
              <span className="text-muted-foreground">ะะฐัะฐ:</span>
              <span className="font-medium">{formatDate(document.document_date)}</span>
            </div>
            <div className="flex justify-between">
              <span className="text-muted-foreground">ะะตััะธั:</span>
              <span className="font-medium">
                {document.currentVersion?.version_number}
              </span>
            </div>
            <div className="flex justify-between">
              <span className="text-muted-foreground">ะะตะนััะฒัะตั ะดะพ:</span>
              <span className="font-medium">
                {formatDate(document.effective_until)}
              </span>
            </div>
          </div>
          
          {/* ะัะตะดัะฟัะตะถะดะตะฝะธั */}
          {document.lifecycle_status === 'draft' && (
            <Alert variant="warning" className="mt-3">
              <AlertCircle className="h-4 w-4" />
              <AlertDescription>
                ะะพะบัะผะตะฝั ะฒ ััะฐัััะต ัะตัะฝะพะฒะธะบะฐ. ะขัะตะฑัะตััั ััะฒะตัะถะดะตะฝะธะต.
              </AlertDescription>
            </Alert>
          )}
          
          {/* ะะฝะพะฟะบะธ */}
          <div className="flex gap-2 mt-4">
            <Button 
              variant="outline" 
              onClick={() => router.push(`/documents/${document.id}`)}
            >
              ะัะบัััั ะดะพะบัะผะตะฝั
            </Button>
            <Button 
              variant="outline"
              onClick={() => downloadVersion(document.current_version_id)}
            >
              ะกะบะฐัะฐัั
            </Button>
            <DropdownMenu>
              <DropdownMenuTrigger asChild>
                <Button variant="ghost" size="icon">
                  <MoreVertical className="h-4 w-4" />
                </Button>
              </DropdownMenuTrigger>
              <DropdownMenuContent>
                <DropdownMenuItem onClick={viewDocumentHistory}>
                  ะััะพัะธั ะฒะตััะธะน
                </DropdownMenuItem>
                <DropdownMenuItem onClick={unlinkDocument}>
                  ะัะฒัะทะฐัั ะดะพะบัะผะตะฝั
                </DropdownMenuItem>
                {document.lifecycle_status === 'draft' && (
                  <DropdownMenuItem onClick={startApproval}>
                    ะัะฟัะฐะฒะธัั ะฝะฐ ััะฒะตัะถะดะตะฝะธะต
                  </DropdownMenuItem>
                )}
              </DropdownMenuContent>
            </DropdownMenu>
          </div>
        </CardContent>
      </Card>
    )
  }
  
  // ะะฑััะฝะพะต ะดะพะบะฐะทะฐัะตะปัััะฒะพ-ัะฐะนะป
  return <EvidenceCardSimple evidence={evidence} />
}
```

---

### 2. **ะกะตะปะตะบัะพั ะธััะพัะฝะธะบะฐ ะดะพะบะฐะทะฐัะตะปัััะฒะฐ**

```tsx
// components/evidence/evidence-source-selector.tsx

export function EvidenceSourceSelector({ 
  onEvidenceCreated,
  complianceRecordId,
  controlMeasureId,
  recommendedTemplates  // ะะท requirement
}) {
  return (
    <Tabs defaultValue="file">
      <TabsList className="grid w-full grid-cols-3">
        <TabsTrigger value="file">
          <Paperclip className="h-4 w-4 mr-2" />
          ะคะฐะนะป
        </TabsTrigger>
        <TabsTrigger value="document">
          <FileText className="h-4 w-4 mr-2" />
          ะะพะบัะผะตะฝั
        </TabsTrigger>
        <TabsTrigger value="create">
          <Sparkles className="h-4 w-4 mr-2" />
          ะกะพะทะดะฐัั
        </TabsTrigger>
      </TabsList>
      
      {/* ะะบะปะฐะดะบะฐ 1: ะะฐะณััะทะบะฐ ัะฐะนะปะฐ */}
      <TabsContent value="file">
        <FileUploader
          onUpload={async (file) => {
            const evidence = await createEvidence({
              file_name: file.name,
              file_url: uploadedUrl,
              file_type: file.type,
              file_size: file.size,
              compliance_record_id: complianceRecordId,
              evidence_type_id: selectedType
            })
            
            if (controlMeasureId) {
              await linkToMeasure(evidence.id, controlMeasureId)
            }
            
            onEvidenceCreated(evidence)
          }}
        />
      </TabsContent>
      
      {/* ะะบะปะฐะดะบะฐ 2: ะัะฑะพั ัััะตััะฒัััะตะณะพ ะดะพะบัะผะตะฝัะฐ */}
      <TabsContent value="document">
        {recommendedTemplates.length > 0 && (
          <Alert className="mb-4">
            <Lightbulb className="h-4 w-4" />
            <AlertDescription>
              ๐ก ะะปั ััะพะณะพ ััะตะฑะพะฒะฐะฝะธั ัะตะบะพะผะตะฝะดััััั ัะปะตะดัััะธะต ะดะพะบัะผะตะฝัั:
              <div className="mt-2 flex flex-wrap gap-2">
                {recommendedTemplates.map(t => (
                  <Badge key={t.id} variant="secondary">
                    {t.title}
                  </Badge>
                ))}
              </div>
            </AlertDescription>
          </Alert>
        )}
        
        <DocumentSelector
          filters={{
            lifecycle_status: ['active', 'draft'],
            organization_id: currentOrganizationId
          }}
          onSelect={async (document) => {
            const evidence = await createEvidence({
              document_id: document.id,
              compliance_record_id: complianceRecordId,
              evidence_type_id: document.document_type.default_evidence_type_id,
              title: document.title
            })
            
            if (controlMeasureId) {
              await linkToMeasure(evidence.id, controlMeasureId)
            }
            
            onEvidenceCreated(evidence)
          }}
        />
      </TabsContent>
      
      {/* ะะบะปะฐะดะบะฐ 3: ะกะพะทะดะฐะฝะธะต ะฝะพะฒะพะณะพ ะดะพะบัะผะตะฝัะฐ */}
      <TabsContent value="create">
        <CreateDocumentWithTemplate
          recommendedTemplates={recommendedTemplates}
          onCreated={async (document) => {
            // ะะฒัะพะผะฐัะธัะตัะบะธ ัะพะทะดะฐะตะผ evidence
            const evidence = await createEvidence({
              document_id: document.id,
              compliance_record_id: complianceRecordId,
              title: document.title
            })
            
            if (controlMeasureId) {
              await linkToMeasure(evidence.id, controlMeasureId)
            }
            
            onEvidenceCreated(evidence)
          }}
        />
      </TabsContent>
    </Tabs>
  )
}
```

---

### 3. **ะกััะฐะฝะธัะฐ ะดะพะบัะผะตะฝัะฐ (ะดะตัะฐะปัะฝัะน ะฒะธะด)**

```tsx
// app/(dashboard)/documents/[id]/page.tsx

export default function DocumentDetailPage({ params }) {
  const { document, versions, evidence_usages } = await fetchDocument(params.id)
  
  return (
    <div>
      <Header>
        <Breadcrumb>
          <BreadcrumbItem href="/documents">ะะพะบัะผะตะฝัั</BreadcrumbItem>
          <BreadcrumbItem>{document.title}</BreadcrumbItem>
        </Breadcrumb>
        
        <div className="flex gap-2">
          <Button onClick={createNewVersion}>ะะพะฒะฐั ะฒะตััะธั</Button>
          <Button onClick={downloadCurrent}>ะกะบะฐัะฐัั</Button>
          {document.lifecycle_status === 'draft' && (
            <Button onClick={startApproval}>ะัะฟัะฐะฒะธัั ะฝะฐ ััะฒะตัะถะดะตะฝะธะต</Button>
          )}
        </div>
      </Header>
      
      {/* ะะฐััะพัะบะฐ ะดะพะบัะผะตะฝัะฐ */}
      <Card>
        <CardHeader>
          <div className="flex items-center justify-between">
            <div>
              <CardTitle>{document.title}</CardTitle>
              <CardDescription>
                {document.document_number} ะพั {document.document_date}
              </CardDescription>
            </div>
            <DocumentLifecycleBadge status={document.lifecycle_status} />
          </div>
        </CardHeader>
        
        <CardContent>
          {/* ะะตะบะฒะธะทะธัั */}
          <dl className="grid grid-cols-2 gap-4">
            <div>
              <dt className="text-sm text-muted-foreground">ะขะธะฟ ะดะพะบัะผะตะฝัะฐ</dt>
              <dd className="font-medium">{document.documentType.name}</dd>
            </div>
            <div>
              <dt className="text-sm text-muted-foreground">ะะตััะธั</dt>
              <dd className="font-medium">{document.currentVersion.version_number}</dd>
            </div>
            <div>
              <dt className="text-sm text-muted-foreground">ะะตะนััะฒัะตั ั</dt>
              <dd className="font-medium">{formatDate(document.effective_from)}</dd>
            </div>
            <div>
              <dt className="text-sm text-muted-foreground">ะะตะนััะฒัะตั ะดะพ</dt>
              <dd className="font-medium">{formatDate(document.effective_until)}</dd>
            </div>
            <div>
              <dt className="text-sm text-muted-foreground">ะกะปะตะดัััะธะน ะฟะตัะตัะผะพัั</dt>
              <dd className="font-medium">{formatDate(document.next_review_date)}</dd>
            </div>
            <div>
              <dt className="text-sm text-muted-foreground">ะกัะพะบ ััะฐะฝะตะฝะธั</dt>
              <dd className="font-medium">
                {document.retention_period_years 
                  ? `${document.retention_period_years} ะปะตั`
                  : 'ะะพััะพัะฝะฝะพ'}
              </dd>
            </div>
          </dl>
        </CardContent>
      </Card>
      
      {/* ะะดะต ะธัะฟะพะปัะทัะตััั ะบะฐะบ ะดะพะบะฐะทะฐัะตะปัััะฒะพ */}
      {evidence_usages.length > 0 && (
        <Card className="mt-4">
          <CardHeader>
            <CardTitle>ะัะฟะพะปัะทัะตััั ะบะฐะบ ะดะพะบะฐะทะฐัะตะปัััะฒะพ</CardTitle>
            <CardDescription>
              ะญัะพั ะดะพะบัะผะตะฝั ัะฒัะทะฐะฝ ั {evidence_usages.length} ะทะฐะฟะธััะผะธ ะบะพะผะฟะปะฐะตะฝัะฐ
            </CardDescription>
          </CardHeader>
          <CardContent>
            <Table>
              <TableHeader>
                <TableRow>
                  <TableHead>ะขัะตะฑะพะฒะฐะฝะธะต</TableHead>
                  <TableHead>ะะตัะฐ</TableHead>
                  <TableHead>ะะฐัะฐ ะดะพะฑะฐะฒะปะตะฝะธั</TableHead>
                  <TableHead>ะะตะนััะฒะธั</TableHead>
                </TableRow>
              </TableHeader>
              <TableBody>
                {evidence_usages.map(usage => (
                  <TableRow key={usage.evidence_id}>
                    <TableCell>
                      <Link href={`/requirements/${usage.requirement_id}`}>
                        {usage.requirement_code}
                      </Link>
                    </TableCell>
                    <TableCell>{usage.measure_title}</TableCell>
                    <TableCell>{formatDate(usage.created_at)}</TableCell>
                    <TableCell>
                      <Button 
                        variant="ghost" 
                        size="sm"
                        onClick={() => router.push(`/compliance/${usage.compliance_record_id}`)}
                      >
                        ะัะบัััั
                      </Button>
                    </TableCell>
                  </TableRow>
                ))}
              </TableBody>
            </Table>
          </CardContent>
        </Card>
      )}
      
      {/* ะะตััะธะธ */}
      <Tabs defaultValue="versions">
        <TabsList>
          <TabsTrigger value="versions">ะะตััะธะธ ({versions.length})</TabsTrigger>
          <TabsTrigger value="analysis">AI ะะฝะฐะปะธะท</TabsTrigger>
          <TabsTrigger value="approvals">ะฃัะฒะตัะถะดะตะฝะธั</TabsTrigger>
        </TabsList>
        
        <TabsContent value="versions">
          <DocumentVersionsList versions={versions} />
        </TabsContent>
        
        <TabsContent value="analysis">
          <DocumentAnalysisView documentId={document.id} />
        </TabsContent>
        
        <TabsContent value="approvals">
          <DocumentApprovalsView documentId={document.id} />
        </TabsContent>
      </Tabs>
    </div>
  )
}
```

---

## ๐ ะะะะะะะะซะ ะฆะะะ (end-to-end)

### ะะพะปะฝัะน ัะธะบะป ะดะพะบัะผะตะฝัะฐ-ะดะพะบะฐะทะฐัะตะปัััะฒะฐ:

```
1. ะกะะะะะะะ
   User: ะกะพะทะดะฐะตั ะดะพะบัะผะตะฝั ะธะท ัะฐะฑะปะพะฝะฐ
   System:
     โ documents (lifecycle: draft)
     โ document_versions (v1.0, is_current: true)
     โ evidence (document_id: ...)
     โ evidence_links (ัะฒัะทั ั ะผะตัะพะน)

2. ะฃะขะะะะะะะะะ
   User: ะัะฟัะฐะฒะปัะตั ะฝะฐ ััะฒะตัะถะดะตะฝะธะต
   System:
     โ document_approvals (status: pending)
     โ document_approval_steps (ะดะปั ะบะฐะถะดะพะณะพ approver)
     โ notifications (ัะฒะตะดะพะผะปะตะฝะธั approvers)
   
   Approvers: ะกะพะณะปะฐัะพะฒัะฒะฐัั ะฟะพ ะพัะตัะตะดะธ
   System:
     โ ะะฑะฝะพะฒะปัะตั approval_steps
     โ ะะพะณะดะฐ ะฒัะต ััะฒะตัะดะธะปะธ:
       โ documents.lifecycle_status = active
       โ documents.approved_at = NOW()
       โ documents.effective_from = NOW() (ะตัะปะธ ะฝะต ัะบะฐะทะฐะฝะพ)
       โ ะฃะฒะตะดะพะผะปะตะฝะธะต ัะพะทะดะฐัะตะปั

3. ะะกะะะะฌะะะะะะะ
   User: ะะพะบัะผะตะฝั ะธัะฟะพะปัะทัะตััั ะฒ ะบะพะผะฟะปะฐะตะฝัะต
   System:
     โ evidence ัะถะต ัะพะทะดะฐะฝ
     โ ะะพะถะฝะพ ะดะพะฑะฐะฒะธัั ะตัะต evidence ะดะปั ะดััะณะธั ะผะตั
     โ ะะดะธะฝ ะดะพะบัะผะตะฝั โ ะผะฝะพะณะพ evidence

4. ะะะขะฃะะะะะะฆะะฏ
   System: ะะฐัััะฟะฐะตั next_review_date
     โ ะฃะฒะตะดะพะผะปะตะฝะธะต owner
     โ Task "ะะตัะตัะผะพััะตัั ะดะพะบัะผะตะฝั"
   
   User: ะกะพะทะดะฐะตั ะฝะพะฒัั ะฒะตััะธั
   System:
     โ document_versions (v1.1, is_current: true)
     โ document_analyses (AI ััะฐะฒะฝะตะฝะธะต v1.0 vs v1.1)
     โ ะัะต evidence ะฐะฒัะพะผะฐัะธัะตัะบะธ ะฒะธะดัั ะฝะพะฒัั ะฒะตััะธั!

5. ะะะฅะะะะะะะะะะ
   System: ะะฐัััะฟะฐะตั effective_until
     โ documents.lifecycle_status = archived
     โ ะฃะฒะตะดะพะผะปะตะฝะธะต: "ะะพะบัะผะตะฝั ะธััะตะบ"
   
   User: ะกะพะทะดะฐะตั ะฝะพะฒัะน ะดะพะบัะผะตะฝั ะฒะทะฐะผะตะฝ
   System:
     โ ะะพะฒัะน ะดะพะบัะผะตะฝั (v2.0 major)
     โ ะะพะถะตั ะพะฑะฝะพะฒะธัั evidence.document_id ะฝะฐ ะฝะพะฒัะน

6. ะฃะะะงะขะะะะะะ
   System: ะะฐัััะฟะฐะตั destruction_date
     โ documents.lifecycle_status = destroyed
     โ ะฃะฒะตะดะพะผะปะตะฝะธะต ะฐััะธะฒะฐัะธััั
   
   Archiver: ะะพะดัะฒะตัะถะดะฐะตั ัะฝะธััะพะถะตะฝะธะต
   System:
     โ ะะบั ัะฝะธััะพะถะตะฝะธั (ะพัะดะตะปัะฝัะน ะดะพะบัะผะตะฝั!)
     โ ะคะฐะนะปั ัะดะฐะปััััั ะธะท storage
     โ ะะฐะฟะธัั ะพััะฐะตััั (audit trail)
```

---

## ๐ ะะขะะะะะะฏ ะะะะะะะะะ

```
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ
โ                    DOCUMENT ECOSYSTEM                        โ
โโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโโ

requirements
    โ
    โโ requirement_document_templates โโโ knowledge_base_templates
    โ  โ                                   (ัะฐะฑะปะพะฝั .docx)
    โ  โ
    โ  โโ ะะตะบะพะผะตะฝะดะฐัะธะธ: "ะะปั ะะะ-002 ะฝัะถะตะฝ ะะบั ะบะฐัะตะณะพัะธัะพะฒะฐะฝะธั"
    โ
    โโ compliance_records
        โ
        โโ control_measures
        โ   โ
        โ   โโ evidence_links โโโ evidence
        โ                           โ
        โ                           โโ file_url (ะฟัะพััะพะน ัะฐะนะป)
        โ                           โ  โโ screenshot.png
        โ                           โ
        โ                           โโ document_id โโโ documents โญ
        โ                                               โ
        โ                                               โโ document_type_id โ document_types
        โ                                               โโ template_id โ kb_templates
        โ                                               โโ document_versions
        โ                                               โโ document_analyses (AI)
        โ                                               โโ document_approvals
        โ
        โโ ะััะณะธะต evidence (ัะฐะนะปั)


ะะตะทะฐะฒะธัะธะผะฐั ะฑะธะฑะปะธะพัะตะบะฐ:
/documents
    โโ ะัะต ะดะพะบัะผะตะฝัั ะพัะณะฐะฝะธะทะฐัะธะธ
        โโ ะะพะณัั ะธัะฟะพะปัะทะพะฒะฐัััั ะฒ ะบะพะผะฟะปะฐะตะฝัะต
        โโ ะะพะณัั ะะ ะธัะฟะพะปัะทะพะฒะฐัััั (ะฒะฝัััะตะฝะฝะธะต)
```

---

## โ ะะขะะะะะะฏ ะะะะะะะะะะฆะะฏ

### **ะกะพะทะดะฐะฝะธะต ะดะพะบัะผะตะฝัะพะฒ: 4 ัะฟะพัะพะฑะฐ**

1. **ะะท ะฑะธะฑะปะธะพัะตะบะธ** โ /documents โ ะกะพะทะดะฐัั
2. **ะัะธ ัะพะทะดะฐะฝะธะธ ะผะตัั** โ ะะฒัะพะผะฐัะธัะตัะบะธ ะธะท ัะตะบะพะผะตะฝะดะฐัะธะน
3. **ะะท ััะตะฑะพะฒะฐะฝะธั** โ Auto-create ะฟะพ requirement_document_templates
4. **ะะท ัะฐะฑะปะพะฝะฐ KB** โ ะกะบะฐัะฐัั โ ะะฐะฟะพะปะฝะธัั โ ะะฐะณััะทะธัั

### **ะกะฒัะทัะฒะฐะฝะธะต ั ะดะพะบะฐะทะฐัะตะปัััะฒะฐะผะธ: 3 ัะฟะพัะพะฑะฐ**

1. **ะะฒัะพะผะฐัะธัะตัะบะธ** ะฟัะธ ัะพะทะดะฐะฝะธะธ (checkbox "ะัะฟะพะปัะทะพะฒะฐัั ะบะฐะบ ะดะพะบะฐะทะฐัะตะปัััะฒะพ")
2. **ะัััะฝัั** ะธะท ัะตะปะตะบัะพัะฐ ะดะพะบัะผะตะฝัะพะฒ
3. **ะะฐััะพะฒะพ** ะดะปั ะฝะตัะบะพะปัะบะธั ะผะตั ะพะดะฝะพะฒัะตะผะตะฝะฝะพ

### **ะะปััะตะฒัะต ะฟัะธะฝัะธะฟั:**

โ ะะพะบัะผะตะฝั ะผะพะถะตั ัััะตััะฒะพะฒะฐัั ะะะ evidence  
โ ะะพะบัะผะตะฝั ะผะพะถะตั ะธัะฟะพะปัะทะพะฒะฐัััั ะะะะะะะะะขะะ ะบะฐะบ evidence  
โ Evidence ะผะพะถะตั ะฑััั ะะะะ ัะฐะนะป, ะะะะ ะดะพะบัะผะตะฝั  
โ ะัะธ ะพะฑะฝะพะฒะปะตะฝะธะธ ะดะพะบัะผะตะฝัะฐ โ ะฒัะต evidence ะฒะธะดัั ะธะทะผะตะฝะตะฝะธั  

---

## ๐ ะงัะพ ะดะฐะปััะต?

**ะะตะฐะปะธะทะพะฒะฐัั ะผะธะณัะฐัะธั 620:**
1. ะกะพะทะดะฐัั ัะฐะฑะปะธัั `documents`
2. ะกะพะทะดะฐัั ัะฐะฑะปะธัั `document_types`
3. ะะธะณัะธัะพะฒะฐัั ะดะฐะฝะฝัะต
4. ะะฑะฝะพะฒะธัั API ะธ UI

**ะัะตะผั:** 2-3 ะดะฝั  
**ะฆะตะฝะฝะพััั:** ๐ฅ๐ฅ๐ฅ ะัะธัะธัะตัะบะฐั

**ะะฐัะธะฝะฐะตะผ?** ๐ฏ

